{"version":3,"sources":["/source/components/passage/youversion-bible.service.js"],"names":["angular","module","call","this","config","$logProvider","debugEnabled","constant","moment","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","controllerAs","otherwise","run","$log","ng","JSON","MainController","ReaderDialogController","SettingsDialogController","$scope","$mdDialog","settings","extend","handleAction","action","hide","ScripturePassage","verses","cancel","readers","openReader","reader","load","ReadingPlanData","LocalStorage","$timeout","LOCAL_STORAGE_KEY","moveCurrentDate","selectedPlanTimeframe","selectedPlanType","updateTodaysReading","vm","version","currentDate","format","today","dateLabel","dayPlan","month","date","then","fullPlan","reading","otReading","push","name","ot2Reading","psalmsReading","ntProverbsReading","loaded","selectedPlanTypeLabel","planTypeOptions","selectedPlanTimeframeLabel","planTimeframeOptions","showAbout","ev","updateSettings","console","log","show","locals","parent","element","document","body","targetEvent","clickOutsideToClose","showReaderChoice","length","key","value","_settings","parse","get","set","stringify","1","2:1","2:2","chapter","previousDay","nextDay","direction","add","$http","$q","keyFor","padDatePart","readingDay","part","String","slice","day","type","dayKey","fullDay","method","response","when","data","asMoment","dayOfYear","week","factory","osisCodes","Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalm","Psalms","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation","EsvBibleOrgReader","$window","passage","open","encodeURIComponent","title","register","registerReader","YouVersionBibleReader","detailsToFormat","parseChapterVerse","startToEnd","toYouVersionFormat","details","chapterVerse","book","verse","parts","verseTokenz","split","indexOf","start","end","cv","isEnd","tokenz","youVersionFormat","$templateCache","put"],"mappings":"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","file":"scripts/app-bfee197a31.js","sourcesContent":["(function() {\n  angular.module('readingPlan', ['ngAnimate', 'ngCookies', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ngMaterial', 'LocalStorageModule']);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('readingPlan').config([\n    '$logProvider', function($logProvider) {\n      'ngInject';\n      return $logProvider.debugEnabled(true);\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('readingPlan').constant('moment', moment);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('readingPlan').config([\n    '$stateProvider', '$urlRouterProvider', function($stateProvider, $urlRouterProvider) {\n      'ngInject';\n      $stateProvider.state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      });\n      return $urlRouterProvider.otherwise('/');\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('readingPlan').run(function($log) {\n    return 'ngInject';\n  });\n\n}).call(this);\n\n\n\n(function() {\n  (function(ng, JSON) {\n    var MainController, ReaderDialogController, SettingsDialogController;\n    SettingsDialogController = [\n      '$scope', '$mdDialog', 'settings', function($scope, $mdDialog, settings) {\n        ng.extend($scope, settings);\n        return $scope.handleAction = function(action) {\n          return $mdDialog.hide($scope);\n        };\n      }\n    ];\n    ReaderDialogController = [\n      '$scope', '$mdDialog', 'ScripturePassage', 'verses', function($scope, $mdDialog, ScripturePassage, verses) {\n        $scope.cancel = function() {\n          return $mdDialog.hide($scope);\n        };\n        $scope.readers = ScripturePassage.readers;\n        return $scope.openReader = function(reader) {\n          return reader.load(verses);\n        };\n      }\n    ];\n    MainController = function(moment, ReadingPlanData, LocalStorage, ScripturePassage, $mdDialog, $timeout) {\n      var LOCAL_STORAGE_KEY, load, moveCurrentDate, selectedPlanTimeframe, selectedPlanType, settings, updateTodaysReading, vm;\n      LOCAL_STORAGE_KEY = 'readdaily.settings';\n      vm = this;\n      vm.version = '1.3.0';\n      vm.currentDate = moment();\n      updateTodaysReading = function() {\n        var format, today;\n        format = selectedPlanTimeframe();\n        today = vm.currentDate;\n        vm.dateLabel = today.format('MMM Do');\n        return ReadingPlanData.dayPlan(vm.selectedPlanType, today.month() + 1, today.date()).then(function(fullPlan) {\n          var reading;\n          reading = [];\n          switch (format) {\n            case '1':\n              if (fullPlan.otReading) {\n                reading.push({\n                  name: 'OT1',\n                  verses: fullPlan.otReading\n                });\n              }\n              if (fullPlan.ot2Reading) {\n                reading.push({\n                  name: 'OT2',\n                  verses: fullPlan.ot2Reading\n                });\n              }\n              break;\n            case '2:1':\n              if (fullPlan.otReading) {\n                reading.push({\n                  name: 'OT',\n                  verses: fullPlan.otReading\n                });\n              }\n              break;\n            case '2:2':\n              if (fullPlan.ot2Reading) {\n                reading.push({\n                  name: 'OT',\n                  verses: fullPlan.ot2Reading\n                });\n              }\n          }\n          if (fullPlan.psalmsReading) {\n            reading.push({\n              name: 'PS',\n              verses: fullPlan.psalmsReading\n            });\n          }\n          if (fullPlan.ntProverbsReading) {\n            reading.push({\n              name: 'NT/PRV',\n              verses: fullPlan.ntProverbsReading\n            });\n          }\n          vm.reading = reading;\n          return vm.loaded = true;\n        });\n      };\n      load = function() {\n        vm.selectedPlanType = selectedPlanType();\n        vm.selectedPlanTimeframe = selectedPlanTimeframe();\n        vm.selectedPlanTypeLabel = vm.planTypeOptions[vm.selectedPlanType];\n        vm.selectedPlanTimeframeLabel = vm.planTimeframeOptions[vm.selectedPlanTimeframe];\n        vm.loaded = false;\n        return updateTodaysReading();\n      };\n      vm.showAbout = function(ev) {\n        var updateSettings;\n        updateSettings = function(config) {\n          console.log(config.selectedPlanType, config.selectedPlanTimeframe);\n          settings('selectedPlanType', config.selectedPlanType);\n          settings('selectedPlanTimeframe', config.selectedPlanTimeframe);\n          return load();\n        };\n        return $mdDialog.show({\n          controller: SettingsDialogController,\n          templateUrl: 'app/main/settings-dialog-template.html',\n          locals: {\n            settings: vm\n          },\n          parent: angular.element(document.body),\n          targetEvent: ev,\n          clickOutsideToClose: true\n        }).then(updateSettings);\n      };\n      vm.showReaderChoice = function(verses, ev) {\n        if (ScripturePassage.readers.length === 1) {\n          return ScripturePassage.readers[0].load(verses);\n        } else {\n          return $mdDialog.show({\n            controller: ReaderDialogController,\n            templateUrl: 'app/main/readers-dialog-template.html',\n            locals: {\n              verses: verses\n            },\n            parent: angular.element(document.body),\n            targetEvent: ev,\n            clickOutsideToClose: true\n          });\n        }\n      };\n      settings = function(key, value) {\n        var _settings;\n        _settings = JSON.parse(LocalStorage.get(LOCAL_STORAGE_KEY)) || {};\n        if (value != null) {\n          _settings[key] = value;\n          LocalStorage.set(LOCAL_STORAGE_KEY, JSON.stringify(_settings));\n        } else {\n          return _settings[key];\n        }\n      };\n      vm.planTimeframeOptions = {\n        '1': 'All In 1 Year',\n        '2:1': '2yr Plan - Year 1',\n        '2:2': '2yr Plan - Year 2'\n      };\n      vm.planTypeOptions = {\n        'chapter': 'Chapter Based'\n      };\n      selectedPlanType = function() {\n        return settings('selectedPlanType') || 'chapter';\n      };\n      selectedPlanTimeframe = function() {\n        return settings('selectedPlanTimeframe') || '2:1';\n      };\n      load();\n      vm.today = function() {\n        vm.currentDate = moment();\n        return updateTodaysReading();\n      };\n      vm.previousDay = function() {\n        moveCurrentDate(-1);\n        return updateTodaysReading();\n      };\n      vm.nextDay = function() {\n        moveCurrentDate(1);\n        return updateTodaysReading();\n      };\n      moveCurrentDate = function(direction) {\n        return vm.currentDate = vm.currentDate.add(direction, 'd');\n      };\n    };\n    return ng.module('readingPlan').controller('MainController', ['moment', 'ReadingPlanData', 'localStorageService', 'ScripturePassage', '$mdDialog', '$timeout', MainController]);\n  })(angular, JSON);\n\n}).call(this);\n\n\n\n(function() {\n  (function(ng, moment) {\n    var ReadingPlanData;\n    ReadingPlanData = [\n      '$http', '$q', function($http, $q) {\n        var dayPlan, keyFor, padDatePart, readingDay;\n        padDatePart = function(part) {\n          return String(\"00\" + part).slice(-2);\n        };\n        keyFor = function(month, day) {\n          return (padDatePart(month)) + \"_\" + (padDatePart(day));\n        };\n        dayPlan = function(type, month, day) {\n          var dayKey, fullDay;\n          console.log(month, day);\n          fullDay = moment().month(month - 1).date(day);\n          console.log(fullDay.format());\n          console.log(readingDay(fullDay));\n          dayKey = keyFor(month, day);\n          dayKey = readingDay(fullDay);\n          if (dayKey) {\n            return $http({\n              method: 'GET',\n              url: \"assets/data/\" + type + \"-bible-reading-plan/\" + dayKey + \".json\"\n            }).then(function(response) {\n              return $q.when(response.data);\n            });\n          } else {\n            return $q.when({});\n          }\n        };\n        readingDay = function(value) {\n          var asMoment;\n          asMoment = moment(value);\n          switch (asMoment.day()) {\n            case 0:\n              return null;\n            default:\n              return asMoment.dayOfYear() - asMoment.week();\n          }\n        };\n        return {\n          dayPlan: dayPlan,\n          readingDay: readingDay\n        };\n      }\n    ];\n    return ng.module('readingPlan').factory('ReadingPlanData', ReadingPlanData);\n  })(angular, moment);\n\n}).call(this);\n\n\n\n(function() {\n  (function(ng) {\n    var osisCodes;\n    osisCodes = {\n      'Genesis': 'GEN',\n      'Exodus': 'EXO',\n      'Leviticus': 'LEV',\n      'Numbers': 'NUM',\n      'Deuteronomy': 'DEU',\n      'Joshua': 'JOS',\n      'Judges': 'JDG',\n      'Ruth': 'RUT',\n      '1 Samuel': '1SA',\n      '2 Samuel': '2SA',\n      '1 Kings': '1KI',\n      '2 Kings': '2KI',\n      '1 Chronicles': '1CH',\n      '2 Chronicles': '2CH',\n      'Ezra': 'EZR',\n      'Nehemiah': 'NEH',\n      'Esther': 'EST',\n      'Job': 'JOB',\n      'Psalm': 'PSA',\n      'Psalms': 'PSA',\n      'Proverbs': 'PRO',\n      'Ecclesiastes': 'ECC',\n      'Song of Solomon': 'SNG',\n      'Isaiah': 'ISA',\n      'Jeremiah': 'JER',\n      'Lamentations': 'LAM',\n      'Ezekiel': 'EZK',\n      'Daniel': 'DAN',\n      'Hosea': 'HOS',\n      'Joel': 'JOL',\n      'Amos': 'AMO',\n      'Obadiah': 'OBA',\n      'Jonah': 'JON',\n      'Micah': 'MIC',\n      'Nahum': 'NAM',\n      'Habakkuk': 'HAB',\n      'Zephaniah': 'ZEP',\n      'Haggai': 'HAG',\n      'Zechariah': 'ZEC',\n      'Malachi': 'MAL',\n      'Matthew': 'MAT',\n      'Mark': 'MRK',\n      'Luke': 'LUK',\n      'John': 'JHN',\n      'Acts': 'ACT',\n      'Romans': 'ROM',\n      '1 Corinthians': '1CO',\n      '2 Corinthians': '2CO',\n      'Galatians': 'GAL',\n      'Ephesians': 'EPH',\n      'Philippians': 'PHP',\n      'Colossians': 'COL',\n      '1 Thessalonians': '1TH',\n      '2 Thessalonians': '2TH',\n      '1 Timothy': '1TI',\n      '2 Timothy': '2TI',\n      'Titus': 'TIT',\n      'Philemon': 'PHM',\n      'Hebrews': 'HEB',\n      'James': 'JAS',\n      '1 Peter': '1PE',\n      '2 Peter': '2PE',\n      '1 John': '1JN',\n      '2 John': '2JN',\n      '3 John': '3JN',\n      'Jude': 'JUD',\n      'Revelation': 'REV'\n    };\n    return ng.module('readingPlan').constant('osisCodes', osisCodes);\n  })(angular);\n\n}).call(this);\n\n\n\n(function() {\n  (function(ng) {\n    var EsvBibleOrgReader;\n    EsvBibleOrgReader = function($window) {\n      var load;\n      load = function(passage) {\n        return $window.open(\"http://www.esvbible.org/\" + ($window.encodeURIComponent(passage)) + \"/\", '_blank');\n      };\n      return {\n        load: load,\n        title: 'esvbible.org'\n      };\n    };\n    return ng.module('readingPlan').factory('EsvBibleOrgReader', ['$window', EsvBibleOrgReader]).run([\n      'ScripturePassage', 'EsvBibleOrgReader', function(ScripturePassage, EsvBibleOrgReader) {\n        return ScripturePassage.register(EsvBibleOrgReader);\n      }\n    ]);\n  })(angular);\n\n}).call(this);\n\n\n\n(function() {\n  (function(ng) {\n    var ScripturePassage;\n    ScripturePassage = function() {\n      var readers, registerReader;\n      readers = [];\n      registerReader = function(reader) {\n        return readers.push(reader);\n      };\n      return {\n        register: registerReader,\n        readers: readers\n      };\n    };\n    return ng.module('readingPlan').factory('ScripturePassage', [ScripturePassage]);\n  })(angular);\n\n}).call(this);\n\n\n\n(function() {\n  (function(ng) {\n    var YouVersionBibleReader;\n    YouVersionBibleReader = function($window, osisCodes) {\n      var detailsToFormat, load, parseChapterVerse, startToEnd, toYouVersionFormat;\n      toYouVersionFormat = function(passage) {\n        var details;\n        details = startToEnd(passage);\n        if ('end' in details) {\n          return (detailsToFormat(details, 'start')) + \"+\" + (detailsToFormat(details, 'end'));\n        } else {\n          return \"\" + (detailsToFormat(details, 'start'));\n        }\n      };\n      detailsToFormat = function(details, key) {\n        var chapterVerse;\n        chapterVerse = details[key];\n        if ('verse' in chapterVerse) {\n          return details.book + \".\" + chapterVerse.chapter + \".\" + chapterVerse.verse;\n        } else {\n          return details.book + \".\" + chapterVerse.chapter;\n        }\n      };\n      startToEnd = function(passage) {\n        var details, parts, verseTokenz, verses;\n        details = {};\n        if (passage) {\n          parts = passage.split(' ');\n          details.book = osisCodes[parts[0]];\n          if (parts.length > 1) {\n            verses = parts[1];\n            if (verses.indexOf('-') >= 0) {\n              verseTokenz = verses.split('-');\n              details.start = parseChapterVerse(verseTokenz[0]);\n              if (verseTokenz.length > 1) {\n                details.end = parseChapterVerse(verseTokenz[1], true);\n                details.end.chapter = details.end.chapter || details.start.chapter;\n              }\n            } else {\n              details.start = parseChapterVerse(verses);\n            }\n          }\n        }\n        return details;\n      };\n      parseChapterVerse = function(cv, isEnd) {\n        var tokenz;\n        if (cv.indexOf(':') >= 0) {\n          tokenz = cv.split(':');\n          return {\n            chapter: tokenz[0],\n            verse: tokenz[1]\n          };\n        } else {\n          if (isEnd) {\n            return {\n              verse: cv\n            };\n          } else {\n            return {\n              chapter: cv\n            };\n          }\n        }\n      };\n      load = function(passage) {\n        var youVersionFormat;\n        youVersionFormat = toYouVersionFormat(passage);\n        console.log(\"Loading YouVersion Link: \" + youVersionFormat);\n        return $window.open(\"youversion://bible?reference=\" + youVersionFormat, '_blank');\n      };\n      return {\n        load: load,\n        title: 'YouVersion Bible App'\n      };\n    };\n    return ng.module('readingPlan').factory('YouVersionBibleReader', ['$window', 'osisCodes', YouVersionBibleReader]).run(['ScripturePassage', 'YouVersionBibleReader', function(ScripturePassage, YouVersionBibleReader) {}]);\n  })(angular);\n\n}).call(this);\n\n\n\nangular.module(\"readingPlan\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<md-content class=\\\"main\\\"><md-toolbar><div class=\\\"md-toolbar-tools\\\"><div layout=\\\"row\\\" layout-align=\\\"left center\\\" flex=\\\"\\\"><a href=\\\"#\\\" ng-click=\\\"vm.previousDay()\\\"><md-icon class=\\\"material-icons\\\">navigate_before</md-icon></a> <span flex=\\\"\\\"></span> <span><a href=\\\"#\\\" ng-click=\\\"vm.today()\\\"><span class=\\\"logo\\\">R</span>ead Daily - {{vm.dateLabel}}</a></span> <span flex=\\\"\\\"></span> <a href=\\\"#\\\" ng-click=\\\"vm.nextDay()\\\"><md-icon class=\\\"material-icons\\\">navigate_next</md-icon></a></div></div></md-toolbar><md-card ng-repeat=\\\"r in vm.reading\\\" ng-if=\\\"vm.loaded && vm.reading.length\\\"><md-card-header><md-card-header-pre><h3>{{r.name}}</h3></md-card-header-pre><md-card-header-text><span class=\\\"md-title\\\">{{r.verses}}</span></md-card-header-text><md-card-header-action><md-button ng-click=\\\"vm.showReaderChoice(r.verses, $event)\\\"><md-icon class=\\\"material-icons\\\">library_books</md-icon></md-button></md-card-header-action></md-card-header></md-card><md-card ng-if=\\\"!vm.reading.length\\\"><md-card-header><md-card-header-text><span class=\\\"md-title center\\\">No readings today</span></md-card-header-text></md-card-header></md-card></md-content><md-toolbar class=\\\"md-bottom-sticky\\\" ng-click=\\\"vm.showAbout($event)\\\"><div layout=\\\"row\\\" layout-align=\\\"left center\\\" flex=\\\"\\\"><span ng-show=\\\"vm.planTypeOptions.length > 1\\\">{{vm.selectedPlanTypeLabel}}</span> <span flex=\\\"\\\"></span><md-button class=\\\"md-raised logo\\\">R</md-button><span flex=\\\"\\\"></span> <span>{{vm.selectedPlanTimeframeLabel}}</span></div></md-toolbar>\");\n$templateCache.put(\"app/main/readers-dialog-template.html\",\"<md-dialog><md-toolbar><div class=\\\"md-toolbar-tools\\\"><h2>Open Reading in...</h2></div></md-toolbar><md-dialog-content><br><md-button ng-repeat=\\\"reader in readers\\\" class=\\\"md-raised\\\" ng-click=\\\"openReader(reader)\\\" style=\\\"width: 95%\\\">{{reader.title}}</md-button></md-dialog-content><md-dialog-actions layout=\\\"row\\\"><md-button ng-click=\\\"cancel()\\\">Cancel</md-button></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/settings-dialog-template.html\",\"<md-dialog><form><md-dialog-content><md-tabs md-dynamic-height=\\\"\\\" md-border-bottom=\\\"\\\" md-center-tabs=\\\"\\\" md-stretch-tabs=\\\"always\\\"><md-tab label=\\\"options\\\"><md-content class=\\\"md-padding\\\"><div layout=\\\"column\\\"><md-subheader class=\\\"md-no-sticky\\\" ng-show=\\\"planTypeOptions.length > 1\\\">Plan Type</md-subheader><md-radio-group ng-model=\\\"selectedPlanType\\\" ng-show=\\\"planTypeOptions.length > 1\\\"><md-radio-button value=\\\"{{k}}\\\" ng-repeat=\\\"(k,v) in planTypeOptions\\\">{{v}}</md-radio-button></md-radio-group><md-subheader class=\\\"md-no-sticky\\\">Timeframe</md-subheader><md-radio-group ng-model=\\\"selectedPlanTimeframe\\\"><md-radio-button value=\\\"{{k}}\\\" ng-repeat=\\\"(k,v) in planTimeframeOptions\\\">{{v}}</md-radio-button></md-radio-group></div></md-content></md-tab><md-tab label=\\\"about\\\"><md-content class=\\\"md-padding\\\">Daily readings from the Two-Year Bible Reading Plan, produced jointly by Reformation OPC (Queens, NYC) and Resurrection OPC (State College, PA). For more resources, visit <a href=\\\"http://resurrectionopc.org/resources\\\" target=\\\"_blank\\\">resurrectionopc.org/resources</a>.</md-content></md-tab></md-tabs></md-dialog-content><md-dialog-actions layout=\\\"row\\\"><md-subheader class=\\\"md-no-sticky\\\">Read Daily v{{version}}</md-subheader><span flex=\\\"\\\"></span><md-button ng-click=\\\"handleAction(\\'ok\\')\\\">Ok</md-button></md-dialog-actions></form></md-dialog>\");}]);"],"sourceRoot":"/source/"}